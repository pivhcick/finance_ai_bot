"""
–®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Telegram –±–æ—Ç–∞.
–í—Å–µ —Ç–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–¥–µ—Å—å –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
"""


class Messages:
    """–ö–ª–∞—Å—Å —Å —à–∞–±–ª–æ–Ω–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π"""

    # –ö–æ–º–∞–Ω–¥–∞ /start
    START = """üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Trading Signals Bot!

–Ø –ø–æ–º–æ–≥—É –≤–∞–º –ø–æ–ª—É—á–∞—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
/subscribe - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤
/unsubscribe - –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏
/status - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
/help - –ü–æ–º–æ—â—å"""

    # –ö–æ–º–∞–Ω–¥–∞ /help
    HELP = """‚ÑπÔ∏è –°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É

–≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

–ö–æ–º–∞–Ω–¥—ã:
/start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
/subscribe - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É
/unsubscribe - –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏
/status - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
/help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É

‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä:
–°–∏–≥–Ω–∞–ª—ã –Ω–æ—Å—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π.
–¢–æ—Ä–≥—É–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ä–∏—Å–∫–∞–º–∏."""

    # –ö–æ–º–∞–Ω–¥–∞ /subscribe - —É—Å–ø–µ—à–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
    SUBSCRIBE_SUCCESS = """‚úÖ –í—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤!

–í—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö –¥–ª—è:
‚Ä¢ –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç (BTC, ETH, SOL, DOGE)
‚Ä¢ –ê–∫—Ü–∏–π –°–®–ê (AAPL, TSLA, MSFT, NVDA, AMZN)
‚Ä¢ ETF (VTI, TQQQ, SPY, QQQ)

‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä:
–°–∏–≥–Ω–∞–ª—ã –Ω–æ—Å—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π. –¢–æ—Ä–≥—É–π—Ç–µ –Ω–∞ —Å–≤–æ–∏ —Ä–∏—Å–∫–∏.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /unsubscribe –¥–ª—è –æ—Ç–ø–∏—Å–∫–∏."""

    # –ö–æ–º–∞–Ω–¥–∞ /subscribe - —É–∂–µ –ø–æ–¥–ø–∏—Å–∞–Ω
    ALREADY_SUBSCRIBED = """‚ÑπÔ∏è –í—ã —É–∂–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /unsubscribe –¥–ª—è –æ—Ç–ø–∏—Å–∫–∏ –∏–ª–∏ /status –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞."""

    # –ö–æ–º–∞–Ω–¥–∞ /unsubscribe - —É—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø–∏—Å–∫–∞
    UNSUBSCRIBE_SUCCESS = """‚ùå –í—ã –æ—Ç–ø–∏—Å–∞–ª–∏—Å—å –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /subscribe –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏."""

    # –ö–æ–º–∞–Ω–¥–∞ /unsubscribe - –Ω–µ –±—ã–ª –ø–æ–¥–ø–∏—Å–∞–Ω
    NOT_SUBSCRIBED = """‚ÑπÔ∏è –í—ã –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /subscribe –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏."""

    # –ö–æ–º–∞–Ω–¥–∞ /status - –ø–æ–¥–ø–∏—Å–∞–Ω
    STATUS_SUBSCRIBED = """üìä –í–∞—à —Å—Ç–∞—Ç—É—Å:

–ü–æ–¥–ø–∏—Å–∫–∞: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞
–¢–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏: –í—Å–µ —Å–∏–≥–Ω–∞–ª—ã
–î–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏: {subscription_date}

–í—Å–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–æ —Å–∏–≥–Ω–∞–ª–æ–≤: {signals_count}"""

    # –ö–æ–º–∞–Ω–¥–∞ /status - –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω
    STATUS_NOT_SUBSCRIBED = """üìä –í–∞—à —Å—Ç–∞—Ç—É—Å:

–ü–æ–¥–ø–∏—Å–∫–∞: ‚ùå –ù–µ –∞–∫—Ç–∏–≤–Ω–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /subscribe –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤."""

    # –û—à–∏–±–∫–∞
    ERROR = """‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É."""

    @staticmethod
    def format_signal_buy(symbol: str, price: float, confidence: int,
                          indicators: dict, targets: dict) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É

        Args:
            symbol: –°–∏–º–≤–æ–ª –∞–∫—Ç–∏–≤–∞ (BTC, ETH, etc.)
            price: –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞
            confidence: –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ %
            indicators: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
            targets: –°–ª–æ–≤–∞—Ä—å —Å —Ü–µ–ª—è–º–∏ (tp1, tp2, sl)

        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        """
        from datetime import datetime

        message = f"""üü¢ –°–ò–ì–ù–ê–õ –ü–û–ö–£–ü–ö–ò: {symbol}

–î–∞—Ç–∞: {datetime.now().strftime('%d.%m.%Y %H:%M')}
–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: ${price:,.2f}
–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {confidence}%

üìä –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:"""

        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
        for key, value in indicators.items():
            message += f"\n‚úÖ {key}: {value}"

        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–π
        message += f"""

üéØ –¶–µ–ª–∏:
TP1: ${targets.get('tp1', 0):,.2f} (+{targets.get('tp1_pct', 0)}%)
TP2: ${targets.get('tp2', 0):,.2f} (+{targets.get('tp2_pct', 0)}%)
Stop-Loss: ${targets.get('sl', 0):,.2f} ({targets.get('sl_pct', 0)}%)

‚è∞ –ú–∞–∫—Å. —É–¥–µ—Ä–∂–∞–Ω–∏–µ: {targets.get('max_hold_days', 0)} –¥–Ω–µ–π"""

        return message

    @staticmethod
    def format_signal_sell(symbol: str, price: float, confidence: int,
                           indicators: dict) -> str:
        """
        –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É

        Args:
            symbol: –°–∏–º–≤–æ–ª –∞–∫—Ç–∏–≤–∞ (ETH, BTC, etc.)
            price: –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
            confidence: –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ %
            indicators: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

        Returns:
            str: –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        """
        from datetime import datetime

        message = f"""üî¥ –°–ò–ì–ù–ê–õ –ü–†–û–î–ê–ñ–ò: {symbol}

–î–∞—Ç–∞: {datetime.now().strftime('%d.%m.%Y %H:%M')}
–¶–µ–Ω–∞: ${price:,.2f}
–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {confidence}%

üìä –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:"""

        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
        for key, value in indicators.items():
            message += f"\n‚úÖ {key}: {value}"

        message += f"\n\n‚ö†Ô∏è –î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–∫—Ä—ã—Ç—å LONG –ø–æ–∑–∏—Ü–∏–∏ –≤ {symbol}"

        return message
